<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Event and epoch handling • eegUtils</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Event and epoch handling">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eegUtils</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.7.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/eegUtils.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data_structures.html">A guide to eegUtils data structures</a>
    </li>
    <li>
      <a href="../articles/epoch-handling.html">Event and epoch handling</a>
    </li>
    <li>
      <a href="../articles/linear_modelling/linear_modelling.html">Linear Modelling</a>
    </li>
    <li>
      <a href="../articles/single_subj_N170/N170_single_subject.html">Getting started with eegUtils and the N170</a>
    </li>
    <li>
      <a href="../articles/time-frequency-analysis.html">Frequency analysis</a>
    </li>
    <li>
      <a href="../articles/topoplot/topoplot.html">Building a topographical plot</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/craddm/eegUtils/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Event and epoch handling</h1>
                        <h4 data-toc-skip class="author">Matt
Craddock</h4>
            
            <h4 data-toc-skip class="date">2024-08-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/craddm/eegUtils/blob/HEAD/vignettes/epoch-handling.Rmd" class="external-link"><code>vignettes/epoch-handling.Rmd</code></a></small>
      <div class="hidden name"><code>epoch-handling.Rmd</code></div>

    </div>

    
    
<pre><code><span><span class="co">#&gt; EEG data</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of channels   : 72 </span></span>
<span><span class="co">#&gt; Electrode names      : A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 A12 A13 A14 A15 A16 A17 A18 A19 A20 A21 A22 A23 A24 A25 A26 A27 A28 A29 A30 A31 A32 B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 B31 B32 EXG1 EXG2 EXG3 EXG4 EXG5 EXG6 EXG7 EXG8 </span></span>
<span><span class="co">#&gt; Sampling rate        : 512 Hz</span></span>
<span><span class="co">#&gt; Reference        : </span></span>
<span><span class="co">#&gt; Signal length: 0 443.998 seconds</span></span></code></pre>
<p>In this example, we’re going to look at how to handle epoching and
events. To start, we have continuous data from 70 channels sampled at
512 Hz, average referenced, and bandpass filtered from 0.1 to 40 Hz.
There is a complete table of all of the events imported with the data.
We can use that table to form epochs.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eeg_example</span></span>
<span><span class="co">#&gt; EEG data</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of channels   : 70 </span></span>
<span><span class="co">#&gt; Electrode names      : A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 A12 A13 A14 A15 A16 A17 A18 A19 A20 A21 A22 A23 A24 A25 A26 A27 A28 A29 A30 A31 A32 B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 B31 B32 EXG1 EXG2 EXG3 EXG4 EXG5 EXG6 </span></span>
<span><span class="co">#&gt; Sampling rate        : 512 Hz</span></span>
<span><span class="co">#&gt; Reference        : average </span></span>
<span><span class="co">#&gt; Signal length: 0 443.998 seconds</span></span>
<span><span class="fu"><a href="../reference/events.html">events</a></span><span class="op">(</span><span class="va">eeg_example</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 468 × 3</span></span></span>
<span><span class="co">#&gt;    event_onset event_time event_type</span></span>
<span><span class="co">#&gt;          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>         475      0.926         18</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>         737      1.44         123</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>        <span style="text-decoration: underline;">1</span>252      2.44         125</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>        <span style="text-decoration: underline;">1</span>674      3.27         219</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>        <span style="text-decoration: underline;">2</span>066      4.03         202</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>        <span style="text-decoration: underline;">2</span>681      5.23          50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>        <span style="text-decoration: underline;">3</span>470      6.78           7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>        <span style="text-decoration: underline;">3</span>731      7.29         123</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>        <span style="text-decoration: underline;">4</span>246      8.29         125</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>        <span style="text-decoration: underline;">4</span>668      9.12         208</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 458 more rows</span></span></span></code></pre></div>
<p>There are 18 unique trigger codes, which we can check with
<code><a href="../reference/list_events.html">list_events()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_events.html">list_events</a></span><span class="op">(</span><span class="va">eeg_example</span><span class="op">)</span></span>
<span><span class="co">#&gt;    event_type</span></span>
<span><span class="co">#&gt; 1          18</span></span>
<span><span class="co">#&gt; 2         123</span></span>
<span><span class="co">#&gt; 3         125</span></span>
<span><span class="co">#&gt; 4         219</span></span>
<span><span class="co">#&gt; 5         202</span></span>
<span><span class="co">#&gt; 6          50</span></span>
<span><span class="co">#&gt; 7           7</span></span>
<span><span class="co">#&gt; 8         208</span></span>
<span><span class="co">#&gt; 9          51</span></span>
<span><span class="co">#&gt; 10         21</span></span>
<span><span class="co">#&gt; 11        222</span></span>
<span><span class="co">#&gt; 12         12</span></span>
<span><span class="co">#&gt; 13        213</span></span>
<span><span class="co">#&gt; 14          6</span></span>
<span><span class="co">#&gt; 15        207</span></span>
<span><span class="co">#&gt; 16         14</span></span>
<span><span class="co">#&gt; 17        215</span></span>
<span><span class="co">#&gt; 18         99</span></span></code></pre></div>
<p>In this experiment, six of those triggers correspond to condition
codes.</p>
<table class="table">
<thead><tr class="header">
<th>Trigger</th>
<th>Semantic type</th>
<th>Spatial frequency</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>207</td>
<td>Match</td>
<td>High</td>
</tr>
<tr class="even">
<td>208</td>
<td>Match</td>
<td>Low</td>
</tr>
<tr class="odd">
<td>213</td>
<td>Mismatch</td>
<td>High</td>
</tr>
<tr class="even">
<td>215</td>
<td>Mismatch</td>
<td>Low</td>
</tr>
<tr class="odd">
<td>219</td>
<td>Nonsense</td>
<td>High</td>
</tr>
<tr class="even">
<td>222</td>
<td>Nonsense</td>
<td>Low</td>
</tr>
</tbody>
</table>
<p>We can use the <code><a href="../reference/epoch_data.html">epoch_data()</a></code> function to create epochs
around each of these triggers, and label those epochs accordingly. In
this example, I’ll label each trigger using hierarchically coded event
tags, simultaneously giving each condition of semantic type and spatial
frequency separated by a “/” symbol.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_epochs</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/epoch_data.html">epoch_data</a></span><span class="op">(</span><span class="va">eeg_example</span>,</span>
<span>             events <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">207</span>, </span>
<span>                        <span class="fl">208</span>,</span>
<span>                        <span class="fl">213</span>,</span>
<span>                        <span class="fl">215</span>,</span>
<span>                        <span class="fl">219</span>,</span>
<span>                        <span class="fl">222</span><span class="op">)</span>,</span>
<span>             epoch_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Match/HSF"</span>,</span>
<span>                              <span class="st">"Match/LSF"</span>,</span>
<span>                              <span class="st">"Mismatch/HSF"</span>,</span>
<span>                              <span class="st">"Mismatch/LSF"</span>,</span>
<span>                              <span class="st">"Nonsense/HSF"</span>,</span>
<span>                              <span class="st">"Nonsense/LSF"</span><span class="op">)</span>,</span>
<span>             time_lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.2</span>, <span class="fl">.6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Adjusting output limits to match sampling rate.</span></span>
<span><span class="co">#&gt; Output limits:  -0.19921875 0.599609375</span></span>
<span><span class="co">#&gt; No baseline removal performed.</span></span>
<span><span class="co">#&gt; Creating 78 epochs.</span></span>
<span><span class="fu"><a href="../reference/events.html">events</a></span><span class="op">(</span><span class="va">example_epochs</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 78 × 6</span></span></span>
<span><span class="co">#&gt;    event_onset event_time event_type event_label  epoch  time</span></span>
<span><span class="co">#&gt;          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>        <span style="text-decoration: underline;">1</span>674       3.27        219 Nonsense/HSF     1     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>        <span style="text-decoration: underline;">4</span>668       9.12        208 Match/LSF        2     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>        <span style="text-decoration: underline;">7</span>565      14.8         222 Nonsense/LSF     3     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>       <span style="text-decoration: underline;">10</span>613      20.7         208 Match/LSF        4     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>       <span style="text-decoration: underline;">13</span>486      26.3         213 Mismatch/HSF     5     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>       <span style="text-decoration: underline;">16</span>263      31.8         207 Match/HSF        6     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>       <span style="text-decoration: underline;">19</span>293      37.7         215 Mismatch/LSF     7     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>       <span style="text-decoration: underline;">22</span>069      43.1         208 Match/LSF        8     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>       <span style="text-decoration: underline;">25</span>063      48.9         222 Nonsense/LSF     9     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>       <span style="text-decoration: underline;">27</span>912      54.5         213 Mismatch/HSF    10     0</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 68 more rows</span></span></span>
<span><span class="fu"><a href="../reference/epochs.html">epochs</a></span><span class="op">(</span><span class="va">example_epochs</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 78 × 5</span></span></span>
<span><span class="co">#&gt;    epoch participant_id recording event_type epoch_labels</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 S2             S2B1             219 Nonsense/HSF</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2 S2             S2B1             208 Match/LSF   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3 S2             S2B1             222 Nonsense/LSF</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4 S2             S2B1             208 Match/LSF   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5 S2             S2B1             213 Mismatch/HSF</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6 S2             S2B1             207 Match/HSF   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7 S2             S2B1             215 Mismatch/LSF</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8 S2             S2B1             208 Match/LSF   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9 S2             S2B1             222 Nonsense/LSF</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10 S2             S2B1             213 Mismatch/HSF</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 68 more rows</span></span></span></code></pre></div>
<p>As can be seen, this modifies the epochs structure so that it now
labels each epoch accordingly. Since we have hierarchically encoded
event tags, an easy way to split that into multiple columns is using the
<code>separate()</code> function from the <code>tidyr</code>
package.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/epochs.html">epochs</a></span><span class="op">(</span><span class="va">example_epochs</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate.html" class="external-link">separate</a></span><span class="op">(</span><span class="fu"><a href="../reference/epochs.html">epochs</a></span><span class="op">(</span><span class="va">example_epochs</span><span class="op">)</span>,</span>
<span>                                          col <span class="op">=</span> <span class="va">epoch_labels</span>,</span>
<span>                                          into <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Semantics"</span>, <span class="st">"SF"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/epochs.html">epochs</a></span><span class="op">(</span><span class="va">example_epochs</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 78 × 6</span></span></span>
<span><span class="co">#&gt;    epoch participant_id recording event_type Semantics SF   </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 S2             S2B1             219 Nonsense  HSF  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2 S2             S2B1             208 Match     LSF  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3 S2             S2B1             222 Nonsense  LSF  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4 S2             S2B1             208 Match     LSF  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5 S2             S2B1             213 Mismatch  HSF  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6 S2             S2B1             207 Match     HSF  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7 S2             S2B1             215 Mismatch  LSF  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8 S2             S2B1             208 Match     LSF  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9 S2             S2B1             222 Nonsense  LSF  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10 S2             S2B1             213 Mismatch  HSF  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 68 more rows</span></span></span></code></pre></div>
<p>Any columns in the <code>epochs</code> structure are included when
converting to a data frame. This has a lot of advantages for plotting;
many plotting commands now allow you to use <code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap()</a></code>
and <code><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid()</a></code> from <code>ggplot2</code> to facet on any
of the columns from the epoch structure. Note that for performance
reasons, facetting must be explicitly allowed using
<code>allow_facets = TRUE</code>, since <code>ggplot2</code>’s
<code><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html" class="external-link">stat_summary()</a></code> function can be extremely slow.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot_butterfly.html">plot_butterfly</a></span><span class="op">(</span><span class="va">example_epochs</span>,</span>
<span>               legend <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>               baseline <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>               allow_facets <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">SF</span><span class="op">)</span></span>
<span><span class="co">#&gt; Creating epochs based on combinations of variables: participant_id Semantics SF</span></span>
<span><span class="co">#&gt; Baseline: -0.1 - 0s</span></span></code></pre></div>
<p><img src="epoch-handling_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Matt Craddock.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
