<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Independent Component Analysis for EEG data — run_ICA • eegUtils</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Independent Component Analysis for EEG data — run_ICA" />
<meta property="og:description" content="Performs Independent Component Analysis for electroencephalographic data.
Currently only available with on epoched data. Implements three different
methods of ICA - 'fastica', 'extended Infomax', and 'Second-Order Blind
Identification (SOBI)'. The resulting eeg_ICA objects can be used largely
like eeg_epochs objects." />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eegUtils</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.6.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/eegUtils.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_structures.html">A guide to eegUtils data structures</a>
    </li>
    <li>
      <a href="../articles/epoch-handling.html">Event and epoch handling</a>
    </li>
    <li>
      <a href="../articles/linear_modelling/linear_modelling.html">Linear Modelling</a>
    </li>
    <li>
      <a href="../articles/time-frequency-analysis.html">Frequency analysis</a>
    </li>
    <li>
      <a href="../articles/topoplot/topoplot.html">Building a topographical plot</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://www.twitter.com/matt_craddock">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/craddm/eegUtils/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Independent Component Analysis for EEG data</h1>
    <small class="dont-index">Source: <a href='https://github.com/craddm/eegUtils/blob/master/R/run_ICA.R'><code>R/run_ICA.R</code></a></small>
    <div class="hidden name"><code>run_ICA.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs Independent Component Analysis for electroencephalographic data.
Currently only available with on epoched data. Implements three different
methods of ICA - 'fastica', 'extended Infomax', and 'Second-Order Blind
Identification (SOBI)'. The resulting <code>eeg_ICA</code> objects can be used largely
like <code>eeg_epochs</code> objects.</p>
    </div>

    <pre class="usage"><span class='fu'>run_ICA</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for eeg_epochs</span>
<span class='fu'>run_ICA</span><span class='op'>(</span>
  <span class='va'>data</span>,
  method <span class='op'>=</span> <span class='st'>"sobi"</span>,
  maxit <span class='op'>=</span> <span class='fl'>1000</span>,
  tol <span class='op'>=</span> <span class='fl'>1e-06</span>,
  pca <span class='op'>=</span> <span class='cn'>NULL</span>,
  centre <span class='op'>=</span> <span class='cn'>TRUE</span>,
  alg <span class='op'>=</span> <span class='st'>"gradient"</span>,
  rateanneal <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>60</span>, <span class='fl'>0.9</span><span class='op'>)</span>,
  rate <span class='op'>=</span> <span class='fl'>0.1</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>Data to be ICAed.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other parameters passed to function.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>"sobi" (default), "fastica", "infomax", or "imax". "infomax"
uses the implementation from the <code>ica</code> package, whereas <code>imax</code> uses the
implementation from the <code>infomax</code> package, which is based on the <code>EEGLAB</code>
implementation.</p></td>
    </tr>
    <tr>
      <th>maxit</th>
      <td><p>Maximum number of iterations of the Infomax and Fastica ICA
algorithms.</p></td>
    </tr>
    <tr>
      <th>tol</th>
      <td><p>Convergence tolerance for fastica and infomax. Defaults to 1e-06.</p></td>
    </tr>
    <tr>
      <th>pca</th>
      <td><p>Reduce the number of dimensions using PCA before running ICA.
Numeric,  &gt;1 and &lt; number of channels</p></td>
    </tr>
    <tr>
      <th>centre</th>
      <td><p>Defaults to TRUE. Centre the data on zero by subtracting the
column mean. See notes on usage.</p></td>
    </tr>
    <tr>
      <th>alg</th>
      <td><p>Use "gradient descent" or "newton" algorithm for extended infomax.
Defaults to "gradient". Ignored if method != "infomax".</p></td>
    </tr>
    <tr>
      <th>rateanneal</th>
      <td><p>Annealing rate for extended infomax. Ignored if method !=
"infomax".</p></td>
    </tr>
    <tr>
      <th>rate</th>
      <td><p>Learning rate for extended infomax. Ignored if method !=
"infomax".</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Print informative messages to console.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An <code>eeg_ICA</code> object containing an ICA decomposition</p>
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    
<ul>
<li><p><code>eeg_epochs</code>: Run ICA on an <code>eeg_epochs</code> object</p></li>
</ul>
    <h2 class="hasAnchor" id="notes-on-ica-usage"><a class="anchor" href="#notes-on-ica-usage"></a>Notes on ICA usage</h2>

    


<p>It is recommended to mean-centre your data appropriately before running
ICA. The implementations of FASTICA and extended-Infomax from the <code>ica</code>
package, and of SOBI ICA have this as an option which is enabled by
default, while the implementation of FASTICA in the fICA package enforces
mean-centring of the columns of the data. With epoched data, it is
recommended to centre each epoch on zero, rather than centre on the overall
channel mean. This can be achieved with the <code><a href='rm_baseline.html'>rm_baseline()</a></code> function. SOBI
ICA will do this automatically, whereas the other ICA implementations will
centre on the channel means, not the epoch means.</p>
<p>In addition, PCA will be required if the data is not full rank. This is
typical when using average reference, when the data rank will be
n_electrodes - 1.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other decompositions: 
<code><a href='eeg_decompose.html'>eeg_decompose</a>()</code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Matt Craddock <a href='mailto:matt@mattcraddock.com'>matt@mattcraddock.com</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>sobi_demo</span> <span class='op'>&lt;-</span>
  <span class='fu'>run_ICA</span><span class='op'>(</span><span class='va'>demo_epochs</span>,
          pca <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Reducing data to 10 dimensions using PCA.</span></div><div class='output co'>#&gt; <span class='message'>Running SOBI ICA.</span></div><div class='output co'>#&gt; <span class='message'>Setting tolerance to 0.0011</span></div><div class='input'> <span class='va'>sobi_demo</span>
</div><div class='output co'>#&gt; Epoched ICA decomposition
#&gt; 
#&gt; Number of components	: 10 
#&gt; Number of epochs	: 80 
#&gt; Epoch limits		: -0.197 - 0.451 seconds
#&gt; Sampling rate		: 128  Hz</div><div class='input'> <span class='co'># We can plot the resulting spatial filters using `topoplot()`</span>
 <span class='fu'><a href='topoplot.html'>topoplot</a></span><span class='op'>(</span><span class='va'>sobi_demo</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Using electrode locations from data.</span></div><div class='img'><img src='run_ICA-1.png' alt='' width='700' height='433' /></div><div class='input'> <span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span>  <span class='fu'><a href='view_ica.html'>view_ica</a></span><span class='op'>(</span><span class='va'>sobi_demo</span><span class='op'>)</span> 
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matt Craddock.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


